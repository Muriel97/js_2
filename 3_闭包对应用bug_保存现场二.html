<!DOCTYPE html>
<html>
<head>
	<title>4_闭包对应用bug_保存现场</title>
	<meta charset="utf-8">
</head>
<body>
<script type="text/javascript">
	// function  f() {
	// 	//内部函数
	// 	function inner( x ){
	// 		return function(){
	// 			return x*2;
	// 		}
	// 	}
	// 	var a=[];
	// 	for (var i = 0; i < 3; i++) {
	// 		a[i]=inner( i );
	// 	};
	// 	return a;
	// }

	// function f(){
	// 	var a=[];
	// 	for (var i = 0; i < 3; i++) {
	// 		a[i]=function ( x ){
	// 		    return function(){          //闭包，函数调用父函数里的引用
	// 			    return x*2;
	// 		    }
	// 	    }(i);
	// 	}
	// 	return a;
	// }


	//外部函数
	function inner( x ){
		return function(){
			return x*2;
		}
	}
	function f(){
		var a=[];
		for (var i = 0; i < 3; i++) {
			a[i]=inner( i );
		};
		return a;
	}

	var result=f();
	document.write(result[0]()+"   "+result[1]()+"   "+result[2]());
</script>
</body>
</html>